// Необходимое для Node.js
const fs = require('node:fs');
const path = require('node:path');

// Необходимое для Discord.js
const { Client, Collection, GatewayIntentBits, EmbedBuilder } = require('discord.js');

const { token } = require('./config.json');

// Инстанция клиента
const client = new Client({
	intents: [
		GatewayIntentBits.Guilds,
		GatewayIntentBits.GuildMessages,
		GatewayIntentBits.MessageContent,
		GatewayIntentBits.GuildMembers,
	],
});

// Загрузка команд
client.commands = new Collection();

// Ивенты
const eventsPath = path.join(__dirname, 'events');
const eventFiles = fs.readdirSync(eventsPath).filter(file => file.endsWith('.js'));

for (const file of eventFiles) {
	const filePath = path.join(eventsPath, file);
	const event = require(filePath);
	if (event.once) {
		client.once(event.name, (...args) => event.execute(...args));
	}
	else {
		client.on(event.name, (...args) => event.execute(...args));
	}
}

// Команды
const commandsPath = path.join(__dirname, 'commands');
const commandFiles = fs.readdirSync(commandsPath).filter(file => file.endsWith('.js'));

for (const file of commandFiles) {
	const filePath = path.join(commandsPath, file);
	const command = require(filePath);
	client.commands.set(command.data.name, command);
}

// Копипасты
const textArray = [
	'В биквайте условном сидят люди которые заинтересованы в том чтобы быть топ 1 на рынке и чтобы ихние блоки покупали а также они заинтересованы в том чтобы не потерять свою репутацию потому железо от условного ксас они ставить не будут ибо пару таких блоков угробят им репутацию в сфере блоков питания',
	'Интел был выебан ещё с выходом 3000 серии.\nТолько, при том, продолжил толкать пятилетнее говно, пусть и в другой упаковке.\nНу хоть цены снизили, спасибо. И потоки завезли. Все это благодаря АМД.\n\nНовый проц - новый сокет, хуле.',
	'Думаю пора рассказать правду. Пожалуй во всей хв тусовке я один настоящий фанат амд. Я не притворяюсь, чтобы получить популярность. Я не дрочу на амд оттого, что это делают все. Я не фанатею от амд просто потому что в каком-то там тесте на какой-то там секунде райзен оказался лучше, нет. Я истинный фанат амд. Я всегда, всю свою, пускай, пока ещё короткую, жизнь, был фанатом амд. Я гордо нёс это звание. Я всегда был их фанбоем. Даже в тяжёлые времена, когда АМД выпускали неудачные решения. Я был их фанатом когда их процессоры сосали у интела на три поколения старше, когда их карты проёбывали нвидия и в цене, и в производительности, и в технологиях. Даже в то время, когда на взявшем амд ставили клеймо отброса, дегенерата, я был за амд. Да, всё верно. Я был за амд даже вчера.',
	'Поясни мне как сделать гаскет из трея, имея при себе только клей и напильник\nПоясни мне за дизайн матрикс лаб и как с этим связан тиамо лимбо\nПоясни мне за грейды смазок\nПоясни мне за отличия 6061 алюма от 6063\nПоясни мне за графики альпс браун\nПоясни мне за тактильность топре\nПоясни мне за черри ог даблшоты\nПоясни мне где найти черри пэйл блюхи\nПоясни мне за маунт на ххкб\nПоясни мне за акриловый сендвич от формака и его отличия от ЧПУ аньки макса\nПоясни мне за толщину филмов deskeys и почему они еле влезают в gateron ks-3\nПоясни мне за стикеры от михалыча\nПоясни мне за все виды стаггеров, только не надо кидать мне тот рисунок от клаваоргворк, давай сам\nПоясни мне за отличие звука с хаузингами черри и JWicK\nПоясни мне за гладкость uhmwpe\nПоясни мне за молды тангеринов на 4 ране\nПоясни мне за инжекшн молдинг и приведи в пример 3 клавиатуры с ним\nПоясни мне за пцб дизайн и как располагаются дорожки в флекс платах\nПоясни мне за болты м2 м3 м4\nПоясни мне за заводы свитчей\nПоясни мне за MOQ у завода JWicK\nПоясни мне за отличия заводской смазки у жвк линеек, если они есть\nПоясни мне зачем делается флекс плэйта\nПоясни мне за групбаи сантиго\nПоясни мне за пцб от громова\nПоясни мне за то, как вступить в QQ чат equalz\nПоясни мне за расположение USB порта у gh60 и на сколько мм идёт смещение от центра\nПоясни мне за отливку MT3\nПоясни мне за тулинг гмк\nПоясни мне: правда ли, что гмк когда-то покупали станки у черри?\nПоясни мне за отличия между gmk screw in gmk wire между gmk screw in c3 wire, c3 equalz c3 wire и c3 equalz gmk wire\nПоясни мне за пом плэйты\nПоясни мне за кейратив бланки\nПоясни мне за отличия трибозис 3204 от кристолюба\nПоясни мне за патент топре и нарисуй его схему по памяти с закрытыми глазами\nПоясни мне за историю создания мехкульта\nПоясни мне за маунт на keycult no. 1/65\nПоясни мне: аристотели это клоны или нет? Почему так думаешь?',
	'Ну блять цены подняли и что? Во-первых, производители плат уже сообщили (асус подтвердили), что биосы будут под б350 и для райзена не нужна будет мать за 15 тысяч, а для 10600к и прочего хлама нужна мать с качественными фазами для разгона выше 4.5ггц ибо процессоры жрут 300вт в разгоне из за 14+++++++нм. Во-вторых, виноват рубль мы живем в парашке, в европе цены будут как заявила амд, они слово держать умеют.\nВ-третьих, райзен был не в полном разгоне и надо тестить с RX 6000 серии для полного обмена данными между процессором и видеокартой (это между прочим технология амд, синим до такого далеко) и тогда разница будет в 30% и я хочу напомнить, что это интел впизду разогнанный, и райзен в стоке с памятью всего лишь 3800мгц (когда там КП позволяет хоть 5ггц и ток по иф ограничение 2200мгц и все).',
	'Короче, по сюжету сна я владею Pixel 4 XL белым. Он у меня чет люто греется, и я решил ради прикола так как деньги были взять поюзать пятый пиксель. Купил я его, хочу забрать, написать Адаму мол смотри какое говно купил, а меня дядя отговаривает его брать. Говорит, ванплас возьми короче. По итогу я его не взял, заказал ванплас 8 про. Приехал мне зеленый, а там матовое покрытие начало слазить, как будто это пленка, а под ним сука деревянная панель. По итогу я ходил с деревянным ванпласом',
	'Хорошо, вот смотрите, либертарианство не ставит своей целью сделать всех богатыми, наша задача защитить жертву от насильника а не наоборот. Вот, например, Швейцария, знаете какой вопрос я задаю на каждой лекции и еще ни разу на него никто не ответил? -"Назовите хоть одного швейцарского политика" - ну? Никто не знает, потому что в Швейцарии у номенклатуры нет власти.',
	'Крч, ты можешь подумать что я деб , но ты стал больше кидать всякие несмешные рофлы не в тему, и вроде бы только и рофлишь, но получается всегда что ты на серьезе всё пишешь и из-за этого сремся постоянно со мной, мб я просто раньше не спорил с тобой много и не обращал внимания,но с тобой раньше веселее намного было, я понимаю что все типа меняются но так для меня просто вышло,я тоже деб спорю с тобой постоянно из-за батлеров',
	'ХАХАХПБАЗВБСЗАБАЩАЬАДА\nФриман рассказывает о секте супер вкусов.\nНачнем с крыльца. У Lidex есть одно окрашивание в общем режиме, что не критично, но оно немного лучше предотвращает фильтрацию ионов. Оба имеют варистор, термистор и электромагнитное реле. То же верно и для обеих диодных сборок, но для Lidex они рассчитаны на 800В, а для ионных - на 600В. И это не критика.\nТеперь об энергетической части - комары с Lidex и ion infinites, но ионный транзистор, сопротивляющийся малым стокам, рассчитан на высокое напряжение, максимальный ток тоже немного выше и они лучше vgs / vds / vdrop. Ионизирующий диод еще лучше, потому что максимальный ток выше.\nТеперь кондиционеры - ион имеет невероятно большую емкость, чтобы обеспечить мощность 760 Вт, то есть 940 мкФ (потому что есть два конденсатора параллельно, да), а у Lidex 470 мкФ. спрашивает хорошо. Максимальное напряжение такое же, свет такой же да. Но текущая серия, эквивалентная последовательному сопротивлению Rubicon, лучше. Угол потерь такой же. Транзисторные ключи основного преобразования еще лучше для иона, ШИМ-контроллер для иона лучше для схемы, лучшего контроля и даже лучше для частоты преобразования. Ионно-резонансный контроллер даже лучше, он рекордсмен cm6901tx, что выше бюджета aa9013. Блин, нет lll в супер ароматах для 11k, даже если mv для 4k), у обоих полумосты, извините, фрактальный полный мост ждал, но это не особо критично. Потому что никто никогда не нагружает вечно 900-1000 Вт и 760 Вт. У них обоих нормальные dsds, а не dualmagamp / dual. Оба имеют синхронное выпрямление. С другой стороны, вид мечети даже лучше. Кстати, ион иногда имеет выходную мощность, и сами проводники лучше, потому что свет выше, но в ионе все лучше, что не похоже на звуковое и супер-пламя, потому что ион создается на высоком мощность иона (лучший ион). наблюдатель хз.',
	'ты хотя выучи матчасть,прежде чем гнать на FSP,они не гонятся за красотой,а именно внутреннее качество,за что и большинство берут Fsp,так что херню не неси!\nВидно,что ты не разбирал такие блоки и даже в руках не держал, тупо хейт на ровном месте,из-за того, что они популярны и бренд,это же маразм полный так считать',
	'Я лунатик. Однажды ночью я как всегда лунатил по квартире и трахнул горшок с цветами. "Как я узнал об этом?", спросите вы). Все просто. Мой член был весь в черноземе, а рядом лежал разъёбанный горшок с моей засохшей кончой.',
	'Самый адекватный вариант купить на алике ксеоны(зионы) и материнку к ним) Это будет в разы быстрее "стандартной" однопроцессорной сборки...Ну а так, если не хотите брать б/у ксеоны, то конечно amd, а не интел! И корона рендерит только на проце, это в вирее появилась возможность задействовать видеокарту) Тут надо решить на чём именно будете рендерить и что) Если рендерить будете интерьеры и экстерьеры, то в короне результат обычно получше) Для предметки особой разницы нет! В общем если выбор пал на корону, то нужно делать упор на процессоры) А видеокарту поставить не дорогую, но не меньше 1060 6г, потомучто если захотите все-таки затестить рендер движки на видеокарте 3г это мало( А если в основном рендерите предметку, анимацию, абстракцию и всякое такое, то лучше сделать упор на видеокарту) Octane, Redshift,Vray gpu, Fstorm это рендер движки, которые работают на видеокартах!ВАЖНО!!!Только на картах от nvidia) Думаю для этого оптимально взять 3080, если бюджет конечно позволяет... Мощностей никогда не будет достаточно!) Есть рендер движки которые работают с картами от amd, но это экзотика',
	'Ну типо не, сборка крутая, но автор не раскрыл знания матчасти по блокам питания. в этом бп есть ллс, а ты вот не указал это. надо было рассказать про защиту дсдс от короткого замыкания. а вообще я вот жду тайпинг озу, там вот какие латенси у свитчей, вот если не троль то поясняй. ну а так желаю автору побольше персиков, и поздравляю с др, так что все быстро ставим дизлайки, иначе будет обидно, человек вот старался, а мы не оценили его труд.',
	'ПОЧЕМУ ГЕНШИН ИМПАКТ>фридрих ницще и все его обсосные идеи.\n1) ФИЛОСОФИЯ ГЕНШИН ИМПАКТА ДО СИХ ПОР ЖИВЕТ В СЕРДЦАХ И РАЗУМАХ ЛЮДЕЙ ФИЛОСФИЯ ПРОВЕРЕННАЯ ВРЕМЕНЕМ.\n2) ПОЖИЛОЙ ПРОКАЗНИК НАМАНЯФАНТОЗИРОВАЛ КАКИХ-ТО АБСТРАКТНЫХ ИДЕЙ ПРО ОВЕРФРАМНОГО ЧАРА(СВЕРХОБСОС) И ЖИДКИХ ИДЕЙ ПРО КАКУЮ ТО ПЕЗТНДУ\n3) ГЕНИШ ИМПАКТ ТО ЧТО ИЗМЕНИЛО МИЛЛИОНЫ ЛЮДЕЙ В ЛУЧШУЮ СТОРОНУ ОБЪЕДИНИЛО ПОКОЛЕНИЕ\n4) ФЕРДЕНАНД НИТСЕ НА ЛОУ HP НАЧАЛ ЛЮТО РУИНИТЬ И ЧУТЬ ЛИ НЕ В АМУЛЕТ ВСТАЛ\n5) НЕТ ВОЗМОЖНОСТИ ЗАДОНАТИТЬ.\n6) ВСРАТЫЙ СКИН УСАТОГО ТАРАКАНА С 1 ПАТЧА ДО ПОСЛЕДНЕГО\n7) ОБЪЕКТИВНО ЛЮБОЙ ПЕРСОНАЖ ГЕНШИН ИМПАКТА ПО СТАТАМ ПРЕВОСХОДИТ САБЖА\n8) ПОСЛЕДНЯЯ ОБНОВА БЫЛА ЛЮТЫМ КРИНЖЕМ И ПОЛОМАННОЙ ХУЙНЕЙ\n\n+ БОНУС\nя хочу отдаться в рабство яэ мико',
	'люблю AMD🔥🔥 и все что с ним связано\nинфинити фабрик💕 большой кэш😍перегрев на боксе🤘\nобычно я покупаю только амд🙀🙀 это мое хобби, ухожу с уроков на члене🍀\n👺💀 будущий геймванн👹покупаю новые рыксы для майнинга за 80+к😽 даунвольчу карту после каждого сброса настроек в ваттмане🤠играю в 500+ фпс в кс 600х800\nесли ты не амдшник и не понимаешь что тут написано то не пиши мне ✋',
	'посмотрите FSP, в бюджетном сегменте им нет равных по элементной базе, ну если только сисоник, но там и стоимость дороже\nмой FSP на 450watt уже 11 лет верой и правдой служит, нагружаю его максимально, даже конденсаторы не менял ему, кроме вентилятора',
	'Проблема в том, что несмотря на прогресс, радостей жизни становится все меньше. Потому, что для достижения комфорта и прогресса в нашей жизни, нам приходится все больше времени работать. У нас не остается времени на радости жизни. А человек должен иметь время на то, чтобы размышлять, думать о своем месте в этом мире, о вечном, обращаться к природе.. Вот поэтому радостей становится меньше. На них просто не остается времени.',
	'Нет, я этим не займусь, нахрена мне это надо. Только для того, что бы где там как то что ли? Неее, абсолютно насрать. На самом деле владельцев таких топовых плат таких как рог кросфаер 8 Хиро не так много, стараться ради них - нет, разбираться в этом дерьме - ни в коем мере, ни в коем... Ни в жизнь. даже если б мог, даже если бы знал как - не стал бы. Пускай амдшники страдают, гагага, у них же там поддержка, 100% там блять, все им обещали. Вот гагаггаг',
	'Д18. Это пиздец. По-другому описать ситуацию которая случилась сегодня нельзя. Значит я решила подшутить над своим двоюродным братом и подсыпать ему возбуждающее средство. Сделала ему чай и он успешно его выпил. Спустя полчаса, он начал ко мне дико приставать(формы у меня неплохие, прикреплю вам), у меня же цели с ним нуу это не было, а просто подшутить. Когда я уже успокоилась, он...\n\n**Читать продолжение**',
	'в PQ лучше только вертушка и выпрямитель, и то в DQ они тоже нормальные. в DQ M V2L лучше выходной фильтр, ниже сопротивление на ключах дежурки, лучше 3,5 и 5в трансформатор, лучше APFC контроллеры. PQ стоит дороже только потому что ЭТО ЖЕ SOSONIC. Ну и хомячки покупают.',
	'I installed Linux and the feeling of freedom and privacy hit me so hard that I immediately began committing crimes, knowing that the FBI could never track me. Piracy, sexual assault, trademark infringement, petty larceny, tax fraud, you name it. I also own several fully automatic firearms even though I live in the state of California, but it doesn\'t matter. Ever since I removed Windows 10 from my computer and replaced it with Arch Linux, and began using a PinePhone as my daily driver phone, police can\'t even stop me in traffic. Windows may have a lot of video games, but the benefits of Linux should not be understated.',
	'Мне не ясны претензии к be quite!, касательно качества БП, 4 года у меня летает Straight power 9 700w. Механическое реле (огромная, ныне, редкость) отсутствие шума, от слова совсем.\nВсё эти претензии, касательно качества продукции, не более чем хейтерство или высказывания фанатов, каких-либо, других производителей комплектующих.',
	'Так, меня зовут Валерий(фамилию, думаю не надо), родился в 2007 году, увлекаюсь спортом итд. Ну редко сижу в тематике железа и часто обращаюсь за помощью, например мне дакар разгонял память на 3200с18(самсунг чипы были).\nЧто касается данного сервера, всё достаточно неплохо, все отзывчивые, помогают как могут. Просачивается легкий троллинг конечно< но я уже привык.\nЧто касается сборки, она замечательная, но есть небольшая проблема, она немного вышла за пределы моего бюджета(примерно на 870 белорусский рублей, что на 25 тысяч русских дороже). И хотелось бы всё же немного быть добрыми, потому что меня оскорбили грубо говоря, было неприятно слышать(\nНу а в целом желаю процветания и успехов этому серверу, помогайте и развивайтесь\nс любовью Валерий',
	'приношу свои глубочайшие извинение за содеянный мною так называемый "тролллинг". Это был юмористический акт, не имеющий цели оскорбить, задеть или опозорить. Содеяное мной разрывет моё heart. Ты мне правда не безразличен и я знаю, что я тебе тоже. Поэтому я искренне прошу извинения, клянусь что больше подобного не повториться и никогда в жизни не буду заниматься подобным родом дияний, вызваный личной скукой, но в тоже время приносящий боль другим. В честь этого я хочу закрыть все твои обиды передо мной вечеркомwink. Приходи в 22:00, тебя будет ожидать сюрприз!',
	'История конфликта началась с Революции Достоинства. Она началась из-за того, что Янукович по указке Кремля, решил не подписывать соглашение с Европейским союзом, вместо этого выбрал Россию. Тогда был убран Виктор Янукович, и Путин хотел показать, что восстание против диктатора ухудшит положение народа, из-за этого началась российско-украинская война. В начале действия России были сосредоточены на Крыму и Донбассе. Россия захватила Крым посредством военного нападения и установила пророссийское правительство.  В целом для рейтингов правительства сказалось благоприятно, поэтому было решено так же, захватить Донбасс. Случилась война на Донбассе, в ходе которой были самопровозглашены т.н. ЛНР и ДНР, военные действия поддерживались Россией, то есть наша страна поддерживала сепаратистские группировки вооружением. Но случилась проблема, после того как Украина оправилась после революции, началось военное контрнаступление против пророссийских сил, под названием АТО (Антитеррористическая операция). Благодаря ВСУ уже в конце 2014 года смогла значительно сократить территорию, находящуюся под оккупацией Россией. Из-за этого 22 августа 2014г Россия решила ввести личный состав и активно использовала артиллерию по украинской территории. В результате помощи боевикам ДНР и ЛНР война продолжилась, то есть война бы закончилась ещё тогда, когда началась АТО победой Украины. Также Россия нарушает минские соглашение, а именно Незамедлительное и всеобъемлющее прекращение огня с 00 ч. 00 мин. (киевское время) 15 февраля 2015 года. Принятие и введение в силу закона, запрещающего преследование и наказание лиц, участвовавших в конфликте. Вывод всех иностранных вооружённых формирований, военной техники, а также наёмников с территории Украины под наблюдением ОБСЕ. Разоружение всех незаконных групп. В 2022 году Россия официально признаёт ЛДНР. Затем Россия вторглась в Украину.',
];

// Гифки с капибарами
const urlImageArray = [
	'https://media.giphy.com/media/fV2LPyKvxLBsK1bZXA/giphy.gif',
	'https://media.giphy.com/media/H1zIfgQFWJR82Et8Uw/giphy.gif',
	'https://media.giphy.com/media/G1SuUoS0Fgskpx1jHZ/giphy.gif',
	'https://media.giphy.com/media/L31YRVxfExs0U/giphy.gif',
	'https://media.giphy.com/media/55gGTev7s29mMr1ZNk/giphy.gif',
	'https://media.giphy.com/media/bnl7xKaEXMLhI475je/giphy-downsized-large.gif',
	'https://media.giphy.com/media/M5rhNrivokuSzAYb7H/giphy.gif',
	'https://media.giphy.com/media/pzGHV8ti11gT0yEvLq/giphy.gif',
	'https://media.giphy.com/media/4VsdO7YSBLC9lzPJUQ/giphy.gif',
	'https://media.giphy.com/media/LYLXpsZ6syif1Coo6l/giphy.gif',
];

// Сообщение при заходе участника
const newbiesEmbed = new EmbedBuilder()
//	.setColor(3092790)
	.setColor(16241871)
	.setTitle('Новый участник');

client.on('guildMemberAdd', async member => {

	// Рандомайзер
	const randomPaste = textArray[Math.floor(Math.random() * textArray.length)];
	const randomImage = urlImageArray[Math.floor(Math.random() * urlImageArray.length)];

	// Присвоение пасты и капибарки
	newbiesEmbed.setDescription(randomPaste);
	newbiesEmbed.setImage(randomImage);

	// Отправка сообщения в канал #новые-участники
	return client.channels.cache.get('739828925412147281').send({ content: member.toString(), embeds: [newbiesEmbed] });

});

// Авторизация бота
client.login(token);